# Librarian Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# Required: Database & Authentication (Supabase)
# =============================================================================

# PostgreSQL connection string
# For Supabase: postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:54322/postgres

# Supabase project URL
# Local: http://localhost:54321
# Cloud: https://[project-ref].supabase.co
SUPABASE_URL=http://localhost:54321

# Supabase anonymous key (safe to expose to frontend)
SUPABASE_ANON_KEY=your-anon-key-here

# Supabase service role key (backend only, never expose to frontend)
SUPABASE_SERVICE_KEY=your-service-key-here

# JWT secret for token verification (must match Supabase project settings)
JWT_SECRET=your-jwt-secret-here

# =============================================================================
# Required: Security
# =============================================================================

# Encryption key for indexer credentials (32 bytes, base64 encoded)
# Generate with: openssl rand -base64 32
INDEXER_ENCRYPTION_KEY=

# =============================================================================
# Optional: External APIs
# =============================================================================

# TVDB API key for TV show metadata
# Get one at: https://thetvdb.com/api-information
TVDB_API_KEY=

# TMDB API key for movie/TV metadata and images
# Get one at: https://www.themoviedb.org/settings/api
TMDB_API_KEY=

# OpenSubtitles API key for subtitle downloads
# Get one at: https://www.opensubtitles.com/en/consumers
OPENSUBTITLES_API_KEY=

# =============================================================================
# Optional: Storage Paths
# =============================================================================

# Path to media library on host (bind mount)
MEDIA_PATH=./data/media

# Path to downloads directory on host (bind mount)
DOWNLOADS_PATH=./data/downloads

# =============================================================================
# Optional: Torrent Settings
# =============================================================================

# Enable DHT for finding peers
TORRENT_ENABLE_DHT=true

# Port for incoming torrent connections
TORRENT_LISTEN_PORT=6881

# Maximum concurrent torrent downloads
TORRENT_MAX_CONCURRENT=5

# =============================================================================
# Optional: Network Ports
# =============================================================================

# HTTP port (production nginx)
HTTP_PORT=80

# HTTPS port (production nginx with SSL)
HTTPS_PORT=443

# Torrent port (for port forwarding)
TORRENT_PORT=6881

# =============================================================================
# Optional: Logging
# =============================================================================

# Rust log level (error, warn, info, debug, trace)
# Use info for production, debug for development
RUST_LOG=info

# Timezone for logs and scheduled tasks
TZ=UTC

# =============================================================================
# Optional: Production Settings
# =============================================================================

# Public URL for the application (used for API URL in frontend build)
# Example: https://librarian.example.com
PUBLIC_URL=http://localhost
